(this["webpackJsonpreact-tailwind-starter"]=this["webpackJsonpreact-tailwind-starter"]||[]).push([[0],{55:function(e,t,a){e.exports=a(86)},60:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),o=a.n(l),c=(a(60),a(3)),s=a(93),u=a(94),i=a(34),m=a(2),d=a(10),p=a(5),f=a(7),E=a.n(f),b=a(11),g=a(17),y=a.n(g),x=function(e,t){return function(){var a=Object(b.a)(E.a.mark((function a(n){var r,l,o;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_LOGIN_REQUEST"}),r={headers:{"Content-type":"application/json"}},a.next=5,y.a.post("/api/users/login",{email:e,password:t},r);case 5:l=a.sent,o=l.data,n({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"USER_LOGIN_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},v=function(e,t,a,n){return function(){var r=Object(b.a)(E.a.mark((function r(l){var o,c,s;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l({type:"USER_REGISTER_REQUEST"}),o={headers:{"Content-type":"application/json"}},r.next=5,y.a.post("/api/users",{name:e,pic:n,email:t,password:a},o);case 5:c=r.sent,s=c.data,l({type:"USER_REGISTER_SUCCESS",payload:s}),l({type:"USER_LOGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),l({type:"USER_REGISTER_FAIL",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()};function h(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}function w(e){var t=e.setSearch,a=r.a.useState(!1),l=Object(c.a)(a,2),o=l[0],f=l[1],g=Object(m.f)(),y=Object(p.b)(),x=Object(p.c)((function(e){return e.userLogin})).userInfo,v=function(){y(function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:"USER_LOGOUT"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g("/")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"relative flex flex-wrap items-center justify-between px-2 py-4 bg-gray-600 shadow-lg  "},r.a.createElement("div",{className:"container px-2 mx-auto flex flex-wrap items-center justify-between"},r.a.createElement("div",{className:"w-full relative flex justify-evenly lg:w-auto lg:static lg:block  gap-2"},r.a.createElement("div",{className:"flex  md:space-x-16 lg:space-x-56  "},r.a.createElement("span",{className:"text-xl items-center font-bold leading-relaxed inline-block  whitespace-nowrap  text-white"},r.a.createElement(d.b,{to:"/"},"MyDiary")),x?r.a.createElement("div",{className:"ml-5 md:ml-0"},r.a.createElement("form",null,r.a.createElement("div",{className:"relative text-gray-+00 focus-within:text-gray-400"},r.a.createElement("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2"},r.a.createElement("button",{type:"submit",className:"p-1 focus:outline-none focus:shadow-outline"},r.a.createElement("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-6 h-6"},r.a.createElement("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})))),r.a.createElement("input",{type:"search",name:"q",className:"py-2 text-sm text-white bg-gray-700 rounded-md pl-10 focus:outline-none focus:bg-white focus:text-gray-900",placeholder:"Search...",autoComplete:"off",onChange:function(e){return t(e.target.value)}})))):r.a.createElement("div",{className:"mr-36 md:ml-0"},".")),x?r.a.createElement("button",{className:"bg-gray-400 text-white cursor-pointer text-xl leading-none px-2 py-0 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return f(!o)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",className:"h-6 w-6",viewBox:"0 0 24 24"},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}))):r.a.createElement("span",{className:"text-gray-100 lg:hidden mt-1 "}," ",r.a.createElement(d.b,{to:"/login"},"Login")," ")),x?r.a.createElement("div",{className:"flex justify-start lg:flex flex-grow "+(o?" flex":" hidden"),id:"example-navbar-danger"},r.a.createElement("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto lg:space-x-5"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.a,{as:"div",className:"relative inline-block text-left"},r.a.createElement(s.a.Button,{className:"inline-flex justify-center w-full  px-6 py-2 text-sm font-medium text-gray-200"},r.a.createElement(d.b,{to:"/mynotes"},"MyPages")," "))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.a,{as:"div",className:"relative inline-block text-left"},r.a.createElement("div",null,r.a.createElement(s.a.Button,{className:"inline-flex justify-center w-full   px-6 py-2 text-sm font-medium text-gray-200"},null===x||void 0===x?void 0:x.name,r.a.createElement(i.a,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"}))),r.a.createElement(u.a,{as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},r.a.createElement(s.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},r.a.createElement("div",{className:"py-1"},r.a.createElement(s.a.Item,null,(function(e){var t=e.active;return r.a.createElement("a",{href:"/profile",className:h(t?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm")},"My Profile")})),r.a.createElement(s.a.Item,null,(function(e){var t=e.active;return r.a.createElement("button",{type:"submit",onClick:v,className:h(t?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm")},"Log out")}))))))))):r.a.createElement("span",{className:"text-gray-100 hidden lg:block"}," ",r.a.createElement(d.b,{to:"/login"},"Login")," "))))}var N=function(){return r.a.createElement("div",{className:"bg-gray-600"},r.a.createElement("footer",{className:"flex flex-wrap items-center justify-between p-3 m-auto"},r.a.createElement("div",{className:"container mx-auto flex flex-col flex-wrap items-center justify-between"},r.a.createElement("div",{className:"flex mx-auto text-white text-center"},"Made with",r.a.createElement("span",{className:"px-2",role:"img","aria-label":"heart"},"\u2764\ufe0f \xa0"),"by \xa0 ",r.a.createElement("cite",null," Pratt")))))},S=function(e){return r.a.createElement("button",{onClick:e.onClick,className:"".concat(e.className,"  shadow-lg bg-gray-600 hover:bg-gray-500 border-b-4 border-gray-400 hover:border-gray-200 text-black text-center py-2 px-4 rounded")},e.children)},O=function(){var e=Object(m.f)();return Object(n.useEffect)((function(){localStorage.getItem("userInfo")&&e("/mynotes")}),[]),r.a.createElement("div",{className:"flex bg-center bg-scroll items-center min-h-screen",style:{backgroundImage:"url(https://images.unsplash.com/photo-1527176930608-09cb256ab504?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=fill&w=2400&q=100)"}},r.a.createElement("div",{className:"container mx-auto grid place-items-center px-3 w-full my-10"},r.a.createElement("span",{className:"block text-3xl lg:text-6xl"},"Welcome To MyDiary"),r.a.createElement("span",{className:"block text-sm lg:text-xl "},"One safe place for all your thoughts"),r.a.createElement("div",{className:"space-x-10 mt-5 lg:text-xl flex justify-evenly"},r.a.createElement(d.b,{to:"/login"},r.a.createElement(S,{className:"lg:h-16 lg:w-40 text-white"},"Log in")),r.a.createElement(d.b,{to:"/register"},r.a.createElement(S,{className:"text-white lg:h-16 lg:w-40  "},"Sign Up")))))},j=function(e){return r.a.createElement("button",{onClick:e.onClick,className:"".concat(e.className,"  shadow-lg  border-b-4  text-black text-center px-2 rounded")},e.children)},k=function(e){var t=e.title,a=e.children;return r.a.createElement("div",{className:"min-h-93p flex py-3"},r.a.createElement("div",{className:"container mx-auto"},r.a.createElement("div",{className:"grid grid-flow-col px-3 text-base lg:text-2xl"},r.a.createElement("div",{className:"px-2"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"text-xl lg:text-5xl"},t),r.a.createElement("hr",null)),r.a.createElement("div",{className:"mt-5"},a)))))},_=a(91),C=function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a,n){var r,l,o,c,s,u;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"NOTES_DELETE_REQUEST"}),r=n(),l=r.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,y.a.delete("/api/notes/".concat(e),o);case 6:c=t.sent,s=c.data,a({type:"NOTES_DELETE_SUCCESS",payload:s}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,a({type:"NOTES_DELETE_FAIL",payload:u});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},T=function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{borderTopColor:"transparent"},className:"w-16 h-16 border-4 border-blue-400 border-solid rounded-full animate-spin"}))},U=function(e){var t=e.children;return r.a.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},r.a.createElement("strong",{className:"font-bold"},"Holy smokes!"),r.a.createElement("br",null),r.a.createElement("span",{className:"block sm:inline"},t))},I=function(e){var t=e.search,a=Object(m.f)(),l=Object(p.b)(),o=Object(p.c)((function(e){return e.noteList})),c=o.loading,s=o.notes,u=o.error,f=Object(p.c)((function(e){return e.userLogin})).userInfo,g=Object(p.c)((function(e){return e.noteCreate})).success,x=Object(p.c)((function(e){return e.noteUpdate})).success,v=Object(p.c)((function(e){return e.noteDelete})),h=v.loading,w=v.error,N=v.success;return Object(n.useEffect)((function(){l(function(){var e=Object(b.a)(E.a.mark((function e(t,a){var n,r,l,o,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"NOTES_LIST_REQUEST"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,y.a.get("/api/notes",l);case 6:o=e.sent,c=o.data,t({type:"NOTES_LIST_SUCCESS",payload:c}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:"NOTES_LIST_FAIL",payload:s});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()),f||a("/")}),[l,g,f,N,g,x]),r.a.createElement(k,{title:"Welcome Back ".concat(f.name," ")},r.a.createElement(d.b,{to:"/createnote"},r.a.createElement(S,{className:"ml-3 mb-1 w-56 text-white"},"Create New Note")),u&&r.a.createElement(U,null,u),w&&r.a.createElement(U,null,u),c&&r.a.createElement(T,null),h&&r.a.createElement(T,null),s&&s.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})).reverse().map((function(e){return r.a.createElement("div",{className:"w-full p-4",key:e._id},r.a.createElement("div",{className:"p-5 rounded-xl shadow-md bg-white"},r.a.createElement("span",{className:"text-4xl"},"\u275d"),r.a.createElement("div",{className:"mb-5 "},r.a.createElement(_.a,null,(function(t){var a=t.open;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Button,{className:"flex justify-between w-full px-4 py-5 text-lg font-medium text-left text-black bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75 shadow-lg"},r.a.createElement("span",{className:"block"},e.title),r.a.createElement(i.b,{className:"".concat(a?"transform rotate-180":""," w-5 h-5 text-black")})),r.a.createElement(_.a.Panel,{className:"px-4 pt-4 pb-2 text-sm text-gray-700"},r.a.createElement("p",{className:"text-base"},e.content)))}))),r.a.createElement("span",{className:"bg-yellow-500 text-yellow-50  py-1 px-2 rounded text-xs font-bold ml-1"},e.category),r.a.createElement("hr",{className:"my-4 "}),r.a.createElement("div",{className:"flex flex-wrap items-center"},r.a.createElement("div",{className:" flex space-x-20  lg:flex-grow lg:w-full justify-between"},r.a.createElement("cite",null,r.a.createElement("p",{className:"my-auto text-xs items-center  lg:text-xl text-gray-500"},"Created on ",e.createdAt.substring(0,10))),r.a.createElement("div",{className:" flex space-x-5"},r.a.createElement("a",{href:"/note/".concat(e._id)},r.a.createElement(j,{className:"items-center w-10 h-10  rounded-xl text-sm bg-green-600 hover:bg-green-300"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",className:"h-6 w-6",viewBox:"0 0 24 24"},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-5m-1.414-9.414a2 2 0 1 1 2.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})))),r.a.createElement(j,{onClick:function(){return t=e._id,void(window.confirm("Are you sure?")&&l(C(t)));var t},className:"items-center w-10 h-10 rounded-xl text-sm bg-red-600 hover-bg-red-300"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",className:"h-6 w-6",viewBox:"0 0 24 24"},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 7-.867 12.142A2 2 0 0 1 16.138 21H7.862a2 2 0 0 1-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3M4 7h16"}))))))))})))},L=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),s=Object(c.a)(o,2),u=s[0],i=s[1],f=Object(p.b)(),g=Object(p.c)((function(e){return e.userLogin})),y=g.loading,v=g.error,h=g.userInfo,w=Object(m.f)(),N=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f(x(a,u));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h&&w("/mynotes")}),[h]),r.a.createElement(k,{title:"Login"},r.a.createElement("div",{className:"border p-10 my-5 rounded"},y&&r.a.createElement(T,null),v&&r.a.createElement(U,null,v),r.a.createElement("form",{onSubmit:N},r.a.createElement("div",null,r.a.createElement("label",{className:"block mb-2"},"E-mail"),r.a.createElement("input",{type:"text",value:a,placeholder:"Enter Email",onChange:function(e){return l(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Enter Password",value:u,onChange:function(e){return i(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2"},r.a.createElement("button",{type:"submit",className:"w-full rounded bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 border-solid border-2 border-green-600"},"Login")))),"New user?"," ",r.a.createElement(j,{className:"bg-green-500 hover:bg-green-700 rounded-lg xl:w-40 xl:h-12 mx-2"},r.a.createElement(d.b,{to:"/register"},"Register")," "),"here")},R=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),s=Object(c.a)(o,2),u=s[0],i=s[1],d=Object(n.useState)("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"),f=Object(c.a)(d,2),g=f[0],y=f[1],x=Object(n.useState)(""),h=Object(c.a)(x,2),w=h[0],N=h[1],S=Object(n.useState)(""),O=Object(c.a)(S,2),j=O[0],_=O[1],C=Object(n.useState)(null),I=Object(c.a)(C,2),L=I[0],R=I[1],A=Object(n.useState)(null),D=Object(c.a)(A,2),P=D[0],F=D[1],B=Object(m.f)(),G=Object(p.b)(),M=Object(p.c)((function(e){return e.userRegister})),Q=M.loading,W=M.error,z=M.userInfo,H=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),w!==j?R("Passwords do not match"):G(v(u,a,w,g));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){z&&B("/mynotes")}),[z]),r.a.createElement(k,{title:"Register"},Q&&r.a.createElement(T,null),W&&r.a.createElement(U,null,W),L&&r.a.createElement(U,null,L),r.a.createElement("div",{className:"border p-10 rounded my-5"},r.a.createElement("form",{onSubmit:H},r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"Name"),r.a.createElement("input",{type:"text",value:u,placeholder:"Enter Name",onChange:function(e){return i(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"E-mail"),r.a.createElement("input",{type:"text",value:a,placeholder:"Enter Email",onChange:function(e){return l(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Enter Password",value:w,onChange:function(e){return N(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",value:j,onChange:function(e){return _(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),P&&r.a.createElement(U,null,P),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2 font-medium text-gray-900 dark:text-gray-300",htmlFor:"user_avatar"},"Upload Image"),r.a.createElement("input",{className:"block w-full  text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"user_avatar_help",label:"Select a image file",id:"user_avatar",type:"file",onChange:function(e){return function(e){if(!e)return F("select am Image");if(F(null),"image/jpg"!==e.type&&"image/jpeg"!==e.type&&"image/png"!==e.type)return F("Please select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","merndairy"),t.append("cloudname","pranikz"),fetch("https://api.cloudinary.com/v1_1/pranikz/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){y(e.url.toString())})).catch((function(e){console.log(e)}))}(e.target.files[0])}}),r.a.createElement("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-300",id:"user_avatar_help"},"A profile picture is useful to confirm your are logged into your account")),r.a.createElement("div",{className:"py-2"},r.a.createElement("button",{type:"submit",className:"w-full rounded bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 border-solid border-2 border-green-600"},"Register")))))},A=a(92),D=function(){var e=Object(m.f)(),t=Object(n.useState)(""),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),i=u[0],d=u[1],f=Object(n.useState)(""),g=Object(c.a)(f,2),x=g[0],v=g[1],h=Object(p.b)(),w=Object(p.c)((function(e){return e.noteCreate})),N=w.loading,S=w.error,O=w.note;console.log(O);var j=function(){o(""),v(""),d("")};return Object(n.useEffect)((function(){}),[]),r.a.createElement(k,{title:"Create a Note"},r.a.createElement("div",{className:"border p-5 rounded my-1"},r.a.createElement("div",{className:"bg-gray-200 font-semibold text-lg lg:text-4xl p-4 rounded-xl"},r.a.createElement("h1",null,"Create a new note")),r.a.createElement("form",null,S&&r.a.createElement(U,null,S),r.a.createElement("div",{className:"py-2 px-2"},r.a.createElement("label",{className:"block mb-2 "},"Title "),r.a.createElement("input",{type:"text",value:l,placeholder:"Enter the title",onChange:function(e){return o(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2 px-2"},r.a.createElement("label",{className:"block mb-2 "},"Content"),r.a.createElement("textarea",{rows:"3",className:"border p-2 w-full rounded-md",placeholder:"Write something...",value:i,onChange:function(e){return d(e.target.value)}}),r.a.createElement("div",{className:"py-2 px-2"},r.a.createElement("label",{className:"block mb-2 "},"Preview"),r.a.createElement("div",{className:"border rounded py-2 px-3 w-full h-auto focus:outline-none focus:shadow-outline"},r.a.createElement(A.a,null,i)))),r.a.createElement("div",{className:"py-2 px-2"},r.a.createElement("label",{className:"block mb-2 "},"Category"),r.a.createElement("input",{type:"text",value:x,placeholder:"Enter the category",onChange:function(e){return v(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("cite",{className:"text-gray-500 p-2"},"Creating on: ",(new Date).toLocaleDateString()," "),N&&r.a.createElement(T,null)),r.a.createElement("div",{className:"py-2 space-x-10 xl:space-x-20 flex justify-center mt-10"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),h(function(e,t,a){return function(){var n=Object(b.a)(E.a.mark((function n(r,l){var o,c,s,u,i,m;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"NOTES_CREATE_REQUEST"}),o=l(),c=o.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},n.next=6,y.a.post("/api/notes/create",{title:e,content:t,category:a},s);case 6:u=n.sent,i=u.data,r({type:"NOTES_CREATE_SUCCESS",payload:i}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),m=n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message,r({type:"NOTES_CREATE_FAIL",payload:m});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(l,i,x)),l&&i&&x&&(j(),e("/mynotes"))},className:"w-2/4 xl:w-1/3 rounded bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 border-solid border-2 border-green-600"},"Create"),r.a.createElement("button",{type:"submit",onClick:j,className:" w-2/4 xl:w-1/3 rounded bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 border-solid border-2 border-red-600"},"Reset"))))},P=function(){var e=Object(m.f)(),t=Object(m.g)().id,a=Object(n.useState)(""),l=Object(c.a)(a,2),o=l[0],s=l[1],u=Object(n.useState)(""),i=Object(c.a)(u,2),d=i[0],f=i[1],g=Object(n.useState)(""),x=Object(c.a)(g,2),v=x[0],h=x[1],w=Object(n.useState)(""),N=Object(c.a)(w,2),S=N[0],O=N[1],j=Object(p.b)(),_=Object(p.c)((function(e){return e.noteUpdate})),I=_.loading,L=_.error,R=Object(p.c)((function(e){return e.noteDelete})),D=R.loading,P=R.error;Object(n.useEffect)((function(){(function(){var e=Object(b.a)(E.a.mark((function e(){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/notes/".concat(t));case 2:a=e.sent,n=a.data,s(n.title),f(n.content),h(n.category),O(n.updatedAt);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,S]);return r.a.createElement(k,{title:"Create a Note"},r.a.createElement("div",{className:"border p-5 rounded my-1"},r.a.createElement("div",{className:"bg-gray-200 font-semibold text-lg lg:text-4xl p-4 rounded-xl"},r.a.createElement("h1",null,"Edit your note")),r.a.createElement("form",null,D&&r.a.createElement(T,null),L&&r.a.createElement(U,null,L),P&&r.a.createElement(U,null,L),r.a.createElement("div",{className:"py-2 px-2"},r.a.createElement("label",{className:"block mb-2 "},"Title "),r.a.createElement("input",{type:"text",value:o,placeholder:"Enter the title",onChange:function(e){return s(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2 px-2"},r.a.createElement("label",{className:"block mb-2 "},"Content"),r.a.createElement("textarea",{rows:"3",className:"border p-2 w-full rounded-md",placeholder:"Write something...",value:d,onChange:function(e){return f(e.target.value)}}),r.a.createElement("div",{className:"py-2 px-2"},r.a.createElement("label",{className:"block mb-2 "},"Preview"),r.a.createElement("div",{className:"border rounded py-2 px-3 w-full h-auto focus:outline-none focus:shadow-outline"},r.a.createElement(A.a,null,d)))),r.a.createElement("div",{className:"py-2 px-2"},r.a.createElement("label",{className:"block mb-2 "},"Category"),r.a.createElement("input",{type:"text",value:v,placeholder:"Enter the category",onChange:function(e){return h(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("cite",{className:"text-gray-500 p-2"},"Updated on - ",S.substring(0,10)),I&&r.a.createElement(T,null)),r.a.createElement("div",{className:"py-2 space-x-10 xl:space-x-20 flex justify-center mt-10"},r.a.createElement("button",{onClick:function(a){a.preventDefault(),j(function(e,t,a,n){return function(){var r=Object(b.a)(E.a.mark((function r(l,o){var c,s,u,i,m,d;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l({type:"NOTES_UPDATE_REQUEST"}),c=o(),s=c.userLogin.userInfo,u={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},r.next=6,y.a.put("/api/notes/".concat(e),{title:t,content:a,category:n},u);case 6:i=r.sent,m=i.data,l({type:"NOTES_UPDATE_SUCCESS",payload:m}),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),d=r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message,l({type:"NOTES_UPDATE_FAIL",payload:d});case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,o,d,v)),o&&d&&v&&(s(""),h(""),f(""),e("/mynotes"))},className:"w-2/4 xl:w-1/3 rounded bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 border-solid border-2 border-green-600"},"Update Note"),r.a.createElement("button",{type:"submit",onClick:function(){return function(t){window.confirm("Are you sure?")&&j(C(t)),e("/mynotes")}(t)},className:" w-2/4 xl:w-1/3 rounded bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 border-solid border-2 border-red-600"},"Delete Note"))))},F=function(e){var t=e.children;return r.a.createElement("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert"},r.a.createElement("strong",{className:"font-bold"},"YAY!! "),r.a.createElement("br",null),r.a.createElement("span",{className:"block sm:inline"},t))},B=function(){var e=Object(m.f)(),t=Object(n.useState)(""),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),i=u[0],d=u[1],f=Object(n.useState)(),g=Object(c.a)(f,2),x=g[0],v=g[1],h=Object(n.useState)(""),w=Object(c.a)(h,2),N=w[0],S=w[1],O=Object(n.useState)(""),j=Object(c.a)(O,2),_=j[0],C=j[1],I=Object(n.useState)(),L=Object(c.a)(I,2),R=L[0],A=L[1],D=Object(p.b)(),P=Object(p.c)((function(e){return e.userLogin})).userInfo,B=Object(p.c)((function(e){return e.userUpdate})),G=B.loading,M=B.error,Q=B.success;Object(n.useEffect)((function(){P?(o(P.name),d(P.email),v(P.pic)):e("/")}),[e,P]);return r.a.createElement(k,{title:"Edit Profile"},r.a.createElement("div",null,r.a.createElement("div",{className:"xl:flex flex-row "},r.a.createElement("div",{className:"item xl:w-1/2 xl:h-96 p-2"},r.a.createElement("form",null,G&&r.a.createElement(T,null),Q&&r.a.createElement(F,null,"Updated Successfully"),M&&r.a.createElement(U,null,M),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"Name"),r.a.createElement("input",{type:"text",value:l,placeholder:"Enter Name",onChange:function(e){return o(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"E-mail"),r.a.createElement("input",{type:"text",value:i,placeholder:"Enter Email",onChange:function(e){return d(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Enter Password",value:N,onChange:function(e){return S(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),r.a.createElement("div",{className:"py-2"},r.a.createElement("label",{className:"block mb-2"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",value:_,onChange:function(e){return C(e.target.value)},className:"border rounded py-2 px-3 w-full focus:outline-none focus:shadow-outline"})),R&&r.a.createElement(U,null,R),r.a.createElement("div",{className:"py-4"},r.a.createElement("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",htmlFor:"user_avatar"},"Upload Image"),r.a.createElement("input",{className:"block w-full  text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"user_avatar_help",label:"Select a image file",id:"user_avatar",type:"file",onChange:function(e){return function(e){if(A(null),"image/jpeg"!==e.type&&"image/png"!==e.type)return A("Please Select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","merndairy"),t.append("cloud_name","pranikz"),fetch("https://api.cloudinary.com/v1_1/pranikz/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){v(e.url.toString()),console.log(x)})).catch((function(e){console.log(e)}))}(e.target.files[0])}})))),r.a.createElement("div",{className:"item xl:w-1/2 xl:h-full p-2 border-black border-2 rounded",style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("img",{src:x,alt:l,className:"profilePic w-full h-full"}))),r.a.createElement("div",{className:"py-2 flex  xl:flex-none justify-center xl:justify-start"},r.a.createElement("button",{type:"submit",onClick:function(e){var t;e.preventDefault(),D((t={name:l,email:i,password:N,pic:x},function(){var e=Object(b.a)(E.a.mark((function e(a,n){var r,l,o,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"USER_UPDATE_REQUEST"}),r=n(),l=r.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},e.next=6,y.a.post("/api/users/profile",t,o);case 6:c=e.sent,s=c.data,a({type:"USER_UPDATE_SUCCESS",payload:s}),a({type:"USER_LOGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a({type:"USER_UPDATE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}()))},className:"w-2/3 xl:w-1/5 rounded bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 border-solid border-2 border-green-600"},"Update"))))};var G=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"font-roboto "},r.a.createElement(d.a,null,r.a.createElement(w,{setSearch:function(e){return l(e)}}),r.a.createElement("main",{className:"min-h-screen"},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",element:r.a.createElement(O,null),exact:!0})),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/mynotes",element:r.a.createElement(I,{search:a})})),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/login",element:r.a.createElement(L,null)})),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/register",element:r.a.createElement(R,null)})),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/createnote",element:r.a.createElement(D,null)})),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/note/:id",element:r.a.createElement(P,null),exact:!0})),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/profile",element:r.a.createElement(B,null),exact:!0}))),r.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(24),Q=a(50),W=a(49),z=Object(M.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!0,userInfo:t.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!0,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};default:return e}},noteList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notes:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTES_LIST_REQUEST":return{loading:!0};case"NOTES_LIST_SUCCESS":return{loading:!1,notes:t.payload};case"NOTES_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},noteCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTES_CREATE_REQUEST":return{loading:!0};case"NOTES_CREATE_SUCCESS":return{loading:!1,success:!0};case"NOTES_CREATE_FAIL":return{loading:!1,error:t.payload};default:return e}},noteDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTES_DELETE_REQUEST":return{loading:!0};case"NOTES_DELETE_SUCCESS":return{loading:!1,success:!0};case"NOTES_DELETE_FAIL":return{loading:!1,error:t.payload,success:!1};default:return e}},noteUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTES_UPDATE_REQUEST":return{loading:!0};case"NOTES_UPDATE_SUCCESS":return{loading:!1,success:!0};case"NOTES_UPDATE_FAIL":return{loading:!1,error:t.payload,success:!1};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,userInfo:t.payload,success:!0};case"USER_UPDATE_FAIL":return{loading:!1,error:t.payload,success:!1};default:return e}}}),H={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},J=[Q.a],Y=Object(M.createStore)(z,H,Object(W.composeWithDevTools)(M.applyMiddleware.apply(void 0,J)));o.a.render(r.a.createElement(p.a,{store:Y},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.8a74111d.chunk.js.map